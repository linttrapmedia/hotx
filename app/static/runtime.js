class N{_state;constructor(){this._state="INIT"}dispatch(q,z,_){return _.append("state",this.state),_.append("event",z),fetch(q??"/api",{method:"POST",body:_}).then(async(B)=>{if(!B.ok)throw new Error(B.statusText);const C=await B.json();return window.hotx.state=C.state,Object.entries(C.dom).forEach(([G,I])=>{Object.entries(I).forEach(([J,K])=>{const L=document.querySelector(J);if(L)L[G]=K})}),C}).catch((B)=>{console.error("There has been a problem with your fetch operation:",B)})}get state(){return this._state}set state(q){this._state=q}}var Q=function(q){return q.getAttribute("hot-data")??null},R=function(q){return q.getAttribute("hot-event")??""},U=function(q){return q.getAttribute("hot-form")??null},X=function(q){return q.getAttribute("hot-machine")??"/api"},Y=function(q){const z=q.getAttribute("hot-trigger"),_=q.tagName==="INPUT"?"change":q.tagName==="SELECT"?"change":q.tagName==="TEXTAREA"?"change":q.tagName==="FORM"?"submit":"click";return z??_},Z=function(q){return q.getAttribute("hot-web-element")??null},$=function(q,z,_,B){const C=z==="this"?q:document.querySelector(z),G=new FormData;Object.entries(C.dataset).forEach(([I,J])=>G.append(I,J)),window.hotx.dispatch(_,B,G)},j=function(q,z,_,B){const C=z==="this"?q:document.querySelector(z),G=new FormData(C);window.hotx.dispatch(_,B,G).then(()=>C.reset())},u=function(q,z){const _=z.split(";");for(let B of _){const[C,...G]=B.split(":"),I=document.querySelector(C);if(console.log(I),!I)continue;for(let J of G)for(let K of J.split(",")){const[L,P]=K.split("=");I.setAttribute(L,P)}}},O=function(q){const z=Array.from(q.querySelectorAll("[hot-event]"));for(let _ of z.values()){if(_.getAttribute("hot-ready")==="true")continue;const B=X(_),C=R(_),G=U(_),I=Q(_),J=Y(_),K=Z(_);_.setAttribute("hot-ready","true"),_.addEventListener(J,function(L){if(L.preventDefault(),G)j(_,G,B,C);if(I)$(_,I,B,C);if(K)u(_,K)})}};document.addEventListener("DOMContentLoaded",function(){window.hotx=new N,O(document),new MutationObserver(function(q){for(let z of q)O(z.target)}).observe(document,{childList:!0,subtree:!0})});

//# debugId=5FD82CEDE49EEC6064756e2164756e21
